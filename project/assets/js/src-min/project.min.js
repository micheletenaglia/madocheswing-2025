var whatsappMsg="";$(document).on("change",".js-whatsapp input, .js-whatsapp select, .js-whatsapp textarea",function(){var t=$(".js-whatsapp-button").data("tel");let a={};var e=0,s=[];$(".js-whatsapp input, .js-whatsapp select, .js-whatsapp textarea").each(function(){let t=$(this).attr("name"),a=$(this).attr("type");!("hidden"==$(this).attr("type")||"submit"==a||"button"==a||s.includes(t))&&($(this).prop("required")||"true"==$(this).attr("aria-required")||$(this).hasClass("wpcf7-validates-as-required")||$(this).closest(".wpcf7-form-control-wrap").find(".wpcf7-validates-as-required").length||"radio"==a||"gdpr"==t)&&(e++,s.push(t))}),$(".js-whatsapp input, .js-whatsapp select, .js-whatsapp textarea").each(function(){let t=$(this).attr("type");if("hidden"!=t&&"submit"!=t&&"button"!=t){let e=$(this).attr("name"),s=$('label[for="'+e+'"]').html();var i=$(this).val(),p=0;if(($(this).prop("required")||"true"==$(this).attr("aria-required")||"gdpr"==e)&&(p=1),$(this).is(":radio")||"gdpr"==e)i=$('input[name="'+e+'"]:checked').val();else if($(this).is(":checkbox")&&"gdpr"!=e){var r=[];$('input[name="'+e+'"]:checked').each(function(){r.push($(this).val())}),i=r.toString()}else $(this).is("select")?i=$('input[name="'+e+'"]:selected').val():$(this).is("textarea");a[e]={label:s,value:i,required:p}}});let i=Object.keys(a);var p=0;for(let[r,l]of(whatsappMsg="Ciao, vorrei informazioni sui corsi. Ecco i miei dati:\n",Object.entries(a)))""!=l.value&&("gdpr"==r?l.value>0&&(whatsappMsg+="GDPR: Autorizzo il trattamento dei miei dati personali ai sensi dell’art. 13 Dlgs 196 del 30 giugno 2003 e dell’art. 13 GDPR (Regolamento UE 2016/679).\n",whatsappMsg+=privacyUrl,p++):Array.isArray(l.value)?(whatsappMsg+=l.label+": "+l.value.toString()+"\n",p++):(whatsappMsg+=l.label+": "+l.value+"\n","notes"!=r&&p++));newUrl="https://wa.me/"+t+"/?text="+(whatsappMsg=encodeURIComponent(whatsappMsg)),$(".js-whatsapp-button").attr("href",newUrl),p+1==i.length?$(".js-whatsapp-button").removeClass("disabled"):$(".js-whatsapp-button").addClass("disabled")}),$(document).on("click",".button.disabled",function(t){t.preventDefault()});