jQuery(document).ready(function($){for(var numbers=[],i=1;i<=40;i++)numbers.push(i);$.fn.isInViewport = function(){var elementTop = $(this).offset().top;var elementBottom = elementTop + $(this).outerHeight();var viewportTop = $(window).scrollTop();var viewportBottom = viewportTop + $(window).height();return elementBottom > viewportTop && elementTop < viewportBottom;};$(document).on('click','.js-menu-mobile-toggle',function(event){event.preventDefault();const menuMobileDefault = document.querySelectorAll('div.menu-mobile-default').length > 0;if(menuMobileDefault){var layer = '<div id="menu-mobile-layer" class="js-menu-mobile-toggle" style="position: fixed; z-index: 30; left:0; top: 0; width: 10%; height: 100%; background-color: rgba(0,0,0,.5); cursor: pointer; display: none;"></div>';if($('.js-menu-mobile').hasClass('open')){$('#menu-mobile-layer').fadeOut(function(){$('#menu-mobile-layer').remove();});}else{$('body').append(layer);setTimeout(function(){$('body').find('#menu-mobile-layer').fadeIn();},200);}}$('.js-menu-mobile').toggleClass('open');});$.each(numbers,(function(a){$(".tab-button-"+a).click((function(){var n=$(this).closest(".tabs-wrap");$(n).find(".tab").removeClass("open"),$(n).find(".tab-button").removeClass("open"),$(n).find(".tab-"+a).addClass("open"),$(this).addClass("open")}))}));$(document).on("change",".js-select-redirect",(function(){var n=$(this).val();return n&&(window.location=n),!1}));$('.content iframe[src*="youtube.com"]').wrap("<div class='oembed'></div>"),$('.content iframe[src*="vimeo.com"]').wrap("<div class='oembed'></div>");$(document).on("click",".js-cf7-modal-form",function(){let e=$(this).data("form"),t=$('[data-form-id="'+e+'"].cf7-modal-form'),s=$('[data-form-id="'+e+'"].cf7-modal-form-layer');$(t).hasClass("open")?$(this).closest(".hap-block").css("z-index","auto"):$(this).closest(".hap-block").css("z-index","48"),$(t).toggleClass("open"),$(s).fadeToggle(),$(".wpcf7-response-output").addClass("hap-cf7-modal-in-modal")}),$(document).on("click",".wpcf7-submit",function(){$(this).closest(".wpcf7").append('<div id="hap-cf-7-loader" class="ajax-loader loading"><div class="lds-ring"><div></div><div></div><div></div></div></div>')}),document.addEventListener("wpcf7invalid",function(e){$(".wpcf7").find("#hap-cf-7-loader").remove(),$(".wpcf7-response-output").addClass("hap-cf7-modal hap-cf7-verify")},!1),document.addEventListener("wpcf7mailfailed",function(e){$(".wpcf7").find("#hap-cf-7-loader").remove(),$(".wpcf7-response-output").addClass("hap-cf7-modal hap-cf7-verify")},!1),document.addEventListener("wpcf7spam",function(e){$(".wpcf7").find("#hap-cf-7-loader").remove(),$(".wpcf7-response-output").addClass("hap-cf7-modal hap-cf7-verify")},!1),document.addEventListener("wpcf7mailsent",function(e){$(".wpcf7").find("#hap-cf-7-loader").remove(),$(".wpcf7-response-output").addClass("hap-cf7-modal").removeClass("hap-cf7-verify")},!1),$(document).on("click",".hap-cf7-modal",function(){$(".wpcf7-response-output").removeClass("hap-cf7-modal").empty(),$(".wpcf7-response-output").hasClass("hap-cf7-modal-in-modal")&&!$(this).hasClass("hap-cf7-verify")&&($(this).closest(".hap-block").css("z-index","auto"),$(".cf7-modal-form").removeClass("open"),$(".cf7-modal-form-layer").fadeOut())});const multiStep=$(".multistep-form");if($(multiStep).length){let e=$(multiStep).find(".multistep-screen").length;var t='<div class="multistep-form-bar">';for(let s=0;s<e;s++)0==s?t+='<div class="multistep-number active">'+(s+1)+"</div>":t+='<div class="multistep-number">'+(s+1)+"</div>";t+="</div>",$(multiStep).prepend(t)}function multistep_loading_bar(e){let t=$(".multistep-form-bar .multistep-number");$(t).each(function(t){$(this).text()<=e?$(this).addClass("active"):$(this).removeClass("active")})}$(document).on("click",".js-multistep-next",function(){let e=$(this).closest(".multistep-screen"),t=$(e).next(".multistep-screen"),s=$(t).data("step"),a=$(e).find('input[type="radio"]');$(a).length?$(a).is(":checked")?($(".multistep-error").remove(),$(e).addClass("left-out").removeClass("current"),$(t).removeClass("right-out").addClass("current"),multistep_loading_bar(s)):($(".multistep-error").remove(),$(e).find(".wpcf7-form-control-wrap").append('<div class="multistep-error font-bold text-error">Scegli un\'opzione!</div>')):($(e).addClass("left-out").removeClass("current"),$(t).removeClass("right-out").addClass("current"),multistep_loading_bar(s))}),$(document).on("change",'.multistep-form input[type="radio"], .multistep-form textarea',function(){let e=$(this).closest(".multistep-screen"),t=$(e).next(".multistep-screen"),s=$(t).data("step");$(".multistep-error").remove(),$(e).addClass("left-out").removeClass("current"),$(t).removeClass("right-out").addClass("current"),multistep_loading_bar(s)}),$(document).on("click",".js-multistep-prev",function(){var e=$(this).closest(".multistep-screen");let t=$(e).prev(".multistep-screen"),s=$(t).data("step");$(e).addClass("right-out").removeClass("current"),$(t).removeClass("left-out").addClass("current"),multistep_loading_bar(s)}),$(document).on("input",".wpcf7 input",function(e){var t=$(this).attr("name"),s=$(this).val(),a=$(this).closest(".wpcf7").find('[data-js-name="'+t+'"]');a.length&&$(a).html(s)});let mapCheck=$(".acf-map");if(mapCheck.length){let e=!1;window.addEventListener("scroll",function(){!1==e&&$(mapCheck).isInViewport()&&($.getScript(mapKeyUrl,function(){$.getScript(mapUrl)}),e=!0)})}var c,currentScrollTop=0,navbar=$(".desktop-nav");$(window).scroll((function(){var r=$(window).scrollTop(),a=navbar.height();c<(currentScrollTop=r)&&r>a+a?(navbar.addClass("scrollup"),navbar.removeClass("scrolldown"),navbar.removeClass("scrollstart")):c>currentScrollTop&&!(r<=a)?(navbar.removeClass("scrollup"),navbar.addClass("scrolldown"),navbar.removeClass("scrollstart")):0==r&&(navbar.removeClass("scrolldown"),navbar.addClass("scrollstart")),c=currentScrollTop}));});var whatsappMsg="";$(document).on("change",".js-whatsapp input, .js-whatsapp select, .js-whatsapp textarea",function(){var t=$(".js-whatsapp-button").data("tel");let a={};var e=0,s=[];$(".js-whatsapp input, .js-whatsapp select, .js-whatsapp textarea").each(function(){let t=$(this).attr("name"),a=$(this).attr("type");!("hidden"==$(this).attr("type")||"submit"==a||"button"==a||s.includes(t))&&($(this).prop("required")||"true"==$(this).attr("aria-required")||$(this).hasClass("wpcf7-validates-as-required")||$(this).closest(".wpcf7-form-control-wrap").find(".wpcf7-validates-as-required").length||"radio"==a||"gdpr"==t)&&(e++,s.push(t))}),$(".js-whatsapp input, .js-whatsapp select, .js-whatsapp textarea").each(function(){let t=$(this).attr("type");if("hidden"!=t&&"submit"!=t&&"button"!=t){let e=$(this).attr("name"),s=$('label[for="'+e+'"]').html();var i=$(this).val(),p=0;if(($(this).prop("required")||"true"==$(this).attr("aria-required")||"gdpr"==e)&&(p=1),$(this).is(":radio")||"gdpr"==e)i=$('input[name="'+e+'"]:checked').val();else if($(this).is(":checkbox")&&"gdpr"!=e){var r=[];$('input[name="'+e+'"]:checked').each(function(){r.push($(this).val())}),i=r.toString()}else $(this).is("select")?i=$('input[name="'+e+'"]:selected').val():$(this).is("textarea");a[e]={label:s,value:i,required:p}}});let i=Object.keys(a);var p=0;for(let[r,l]of(whatsappMsg="Ciao, vorrei informazioni sui corsi. Ecco i miei dati:\n",Object.entries(a)))""!=l.value&&("gdpr"==r?l.value>0&&(whatsappMsg+="GDPR: Autorizzo il trattamento dei miei dati personali ai sensi dell’art. 13 Dlgs 196 del 30 giugno 2003 e dell’art. 13 GDPR (Regolamento UE 2016/679).\n",whatsappMsg+=privacyUrl,p++):Array.isArray(l.value)?(whatsappMsg+=l.label+": "+l.value.toString()+"\n",p++):(whatsappMsg+=l.label+": "+l.value+"\n","notes"!=r&&p++));newUrl="https://wa.me/"+t+"/?text="+(whatsappMsg=encodeURIComponent(whatsappMsg)),$(".js-whatsapp-button").attr("href",newUrl),p+1==i.length?$(".js-whatsapp-button").removeClass("disabled"):$(".js-whatsapp-button").addClass("disabled")}),$(document).on("click",".button.disabled",function(t){t.preventDefault()});